{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/var/www/jaidshop/frontend/src/screens/HomeScreen.js\";\nimport React from 'react';\nimport { useEffect, useState, useReducer } from \"react\";\nimport logger from 'use-reducer-logger'; // import data from \"../data\";\n\nimport axios from 'axios';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport MessageBox from 'react-bootstrap/MessageBox';\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport LoadingBox from '../components/LoadingBox';\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case 'FETCH_SUCCESS':\n      return _objectSpread({}, state, {\n        products: action.payload,\n        loading: false\n      });\n\n    case 'FETCH_FAIL':\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nfunction HomeScreen() {\n  var _this = this;\n\n  var _useReducer = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: ''\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      loading = _useReducer2$.loading,\n      error = _useReducer2$.error,\n      products = _useReducer2$.products,\n      dispatch = _useReducer2[1]; // const [products, setProducts] = useState([]);\n\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: 'FETCH_REQUEST'\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get('/api/products');\n\n              case 4:\n                result = _context.sent;\n                dispatch({\n                  type: 'FETCH_SUCCESS',\n                  payload: result.data\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: 'FETCH_FAIL',\n                  payload: _context.t0.message\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Qualhygiene\")), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Featured Products\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, loading ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }) : error ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, error) : /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, products.map(function (product) {\n    return /*#__PURE__*/React.createElement(Col, {\n      key: product.slug,\n      sm: 6,\n      md: 4,\n      lg: 3,\n      className: \"mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Product, {\n      product: product,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }));\n  }))));\n}\n\nexport default HomeScreen;","map":{"version":3,"sources":["/var/www/jaidshop/frontend/src/screens/HomeScreen.js"],"names":["React","useEffect","useState","useReducer","logger","axios","Row","Col","MessageBox","Product","Helmet","LoadingBox","reducer","state","action","type","loading","products","payload","error","HomeScreen","dispatch","fetchData","get","result","data","message","map","product","slug"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useEffect, useState, useReducer } from \"react\";\n\nimport logger from 'use-reducer-logger';\n// import data from \"../data\";\n\nimport axios from 'axios';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport MessageBox from 'react-bootstrap/MessageBox';\n\n\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport LoadingBox from '../components/LoadingBox';\n\n\n\nconst reducer = (state, action) => {\n  switch(action.type) {\n    case 'FETCH_REQUEST':\n      return {...state, loading: true};\n    case 'FETCH_SUCCESS':\n      return {...state, products: action.payload, loading: false};\n    case 'FETCH_FAIL':\n      return {...state, loading:false, error: action.payload};  \n    default:\n      return state;    \n\n  }\n};\n\n\nfunction HomeScreen() {\n  const[{loading, error, products}, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: '',\n  });\n  // const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({type: 'FETCH_REQUEST'});\n      try {\n        const result = await axios.get('/api/products');\n        dispatch({type: 'FETCH_SUCCESS', payload: result.data });\n\n      } catch(err) {\n        dispatch({type: 'FETCH_FAIL', payload: err.message });\n\n      }\n      \n     \n\n    };\n    fetchData();\n\n  }, []);\n  return (\n    <div>\n      <Helmet>\n        <title>Qualhygiene</title>\n      </Helmet>\n      <h1>Featured Products</h1>\n      <div className=\"products\">\n        {loading ? (\n          <LoadingBox />\n        ) : error ? (\n          <MessageBox variant=\"danger\">{error}</MessageBox>\n        ) : (\n        <Row>\n        {products.map((product) => (\n          <Col key={product.slug} sm={6} md={4} lg={3} className=\"mb-3\">\n          <Product product={product}></Product>\n          </Col>\n        ))}\n        </Row>\n        )}\n      </div>\n      \n    </div>\n  );\n}\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}