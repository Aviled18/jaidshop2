{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/var/www/jaidshop/frontend/src/screens/HomeScreen.js\";\nimport React from 'react';\nimport { useEffect, useState, useReducer } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport logger from 'use-reducer-logger'; // import data from \"../data\";\n\nimport axios from 'axios';\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case 'FETCH_SUCCESS':\n      return _objectSpread({}, state, {\n        products: action.payload,\n        loading: false\n      });\n\n    case 'FETCH_FAIL':\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nfunction HomeScreen() {\n  var _this = this;\n\n  var _useReducer = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: ''\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      loading = _useReducer2$.loading,\n      error = _useReducer2$.error,\n      products = _useReducer2$.products,\n      dispatch = _useReducer2[1]; // const [products, setProducts] = useState([]);\n\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: 'FETCH_REQUEST'\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get('/api/products');\n\n              case 4:\n                result = _context.sent;\n                dispatch({\n                  type: 'FETCH_SUCCESS',\n                  payload: result.data\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: 'FETCH_FAIL',\n                  payload: _context.t0.message\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Featured Products\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, error) : /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, products.map(function (product) {\n    return /*#__PURE__*/React.createElement(Col, {\n      sm: 6,\n      md: 4,\n      lg: 3,\n      className: \"mb-\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product\",\n      key: product.slug,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/product/\".concat(product.slug),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: product.image,\n      alt: product.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/product/\".concat(product.slug),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, product.name)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, \"Rs \", product.price), /*#__PURE__*/React.createElement(\"button\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, \"Add to cart\"))));\n  }))));\n}\n\nexport default HomeScreen;","map":{"version":3,"sources":["/var/www/jaidshop/frontend/src/screens/HomeScreen.js"],"names":["React","useEffect","useState","useReducer","Link","logger","axios","reducer","state","action","type","loading","products","payload","error","HomeScreen","dispatch","fetchData","get","result","data","message","map","product","slug","image","name","price"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useEffect, useState, useReducer } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport logger from 'use-reducer-logger';\n// import data from \"../data\";\n\nimport axios from 'axios';\n\nconst reducer = (state, action) => {\n  switch(action.type) {\n    case 'FETCH_REQUEST':\n      return {...state, loading: true};\n    case 'FETCH_SUCCESS':\n      return {...state, products: action.payload, loading: false};\n    case 'FETCH_FAIL':\n      return {...state, loading:false, error: action.payload};  \n    default:\n      return state;    \n\n  }\n};\n\n\nfunction HomeScreen() {\n  const[{loading, error, products}, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: '',\n  });\n  // const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({type: 'FETCH_REQUEST'});\n      try {\n        const result = await axios.get('/api/products');\n        dispatch({type: 'FETCH_SUCCESS', payload: result.data });\n\n      } catch(err) {\n        dispatch({type: 'FETCH_FAIL', payload: err.message });\n\n      }\n      \n     \n\n    };\n    fetchData();\n\n  }, []);\n  return (\n    <div>\n      <h1>Featured Products</h1>\n      <div className=\"products\">\n        {loading ? (\n          <div>Loading...</div>\n        ) : error ? (\n          <div>{error}</div>\n        ) : (\n        <Row>\n        {products.map((product) => (\n          <Col sm={6} md={4} lg={3} className=\"mb-\">\n          <div className=\"product\" key={product.slug}>\n            <Link to={`/product/${product.slug}`}>\n              <img src={product.image} alt={product.name} />\n            </Link>\n            <div className=\"product-info\">\n              <Link to={`/product/${product.slug}`}>\n                <p>{product.name}</p>\n              </Link>\n              <p>Rs {product.price}</p>\n              <button>Add to cart</button>\n            </div>\n          </div>\n          </Col>\n        ))}\n        </Row>\n        )}\n      </div>\n      \n    </div>\n  );\n}\n\nexport default HomeScreen;\n"]},"metadata":{},"sourceType":"module"}