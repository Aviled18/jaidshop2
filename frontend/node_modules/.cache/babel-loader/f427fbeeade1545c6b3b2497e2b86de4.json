{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/var/www/jaidshop/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/var/www/jaidshop/frontend/src/screens/ProductScreen.js\";\nimport axios from 'axios';\nimport React, { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n{\n  product.price;\n}\nimport Rating from '../components/Rating';\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case 'FETCH_SUCCESS':\n      return _objectSpread({}, state, {\n        product: action.payload,\n        loading: false\n      });\n\n    case 'FETCH_FAIL':\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nfunction ProductScreen() {\n  var params = useParams();\n  var slug = params.slug;\n\n  var _useReducer = useReducer(reducer, {\n    product: [],\n    loading: true,\n    error: ''\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      loading = _useReducer2$.loading,\n      error = _useReducer2$.error,\n      product = _useReducer2$.product,\n      dispatch = _useReducer2[1]; // const [products, setProducts] = useState([]);\n\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: 'FETCH_REQUEST'\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get(\"/api/products/slug/\".concat(slug));\n\n              case 4:\n                result = _context.sent;\n                dispatch({\n                  type: 'FETCH_SUCCESS',\n                  payload: result.data\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: 'FETCH_FAIL',\n                  payload: _context.t0.message\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, [slug]);\n  return loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"error\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-large\",\n    src: product.image,\n    alt: product.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, product.name)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    rating: product.rating,\n    numReviews: product.numReviews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"Price: Rs \", product.price), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Description: \", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 38\n    }\n  }, product.description)))), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })));\n}\n\nexport default ProductScreen;","map":{"version":3,"sources":["/var/www/jaidshop/frontend/src/screens/ProductScreen.js"],"names":["axios","React","useEffect","useReducer","useParams","Row","Col","product","price","Rating","reducer","state","action","type","loading","payload","error","ProductScreen","params","slug","dispatch","fetchData","get","result","data","message","image","name","rating","numReviews","description"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useReducer } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n{product.price}\nimport Rating from '../components/Rating';\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state, loading: true };\n    case 'FETCH_SUCCESS':\n      return { ...state, product: action.payload, loading: false };\n    case 'FETCH_FAIL':\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n\nfunction ProductScreen() {\n  const params = useParams();\n  const { slug } = params;\n\n  const [{ loading, error, product }, dispatch] = useReducer(reducer, {\n    product: [],\n    loading: true,\n    error: '',\n  });\n  // const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({ type: 'FETCH_REQUEST' });\n      try {\n        const result = await axios.get(`/api/products/slug/${slug}`);\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n      } catch (err) {\n        dispatch({ type: 'FETCH_FAIL', payload: err.message });\n      }\n    };\n    fetchData();\n  }, [slug]);\n\n  return loading ? (\n    <div>Loading...</div>\n  ) : error ? (\n    <error>{error}</error>\n  ) : (\n    <div>\n        <Row>\n            <Col md={6}>\n                <img className=\"img-large\" src={product.image} alt={product.name}></img>\n            </Col>\n            <Col md={3}>\n                <ListGroup variant=\"flush\">\n                    <ListGroup.Item>\n                        <h1>{product.name}</h1>\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                        <Rating\n                        rating={product.rating}\n                        numReviews={product.numReviews}\n                        ></Rating>\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                        Price: Rs {product.price}\n                    </ListGroup.Item>\n                    \n                    <ListGroup.Item>\n                        Description: <p>{product.description}</p>\n                    </ListGroup.Item>\n\n                </ListGroup>\n            </Col>\n            <Col md={3}></Col>\n        </Row>\n        </div>\n  );\n}\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}